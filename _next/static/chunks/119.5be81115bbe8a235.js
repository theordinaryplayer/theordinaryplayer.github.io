(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{4119:(t,e,a)=>{"use strict";a.r(e),a.d(e,{Snowfall:()=>v,SnowfallCanvas:()=>m,default:()=>S});var i,n,r=a(5522);function s(t,e){return Number.isInteger(t)&&Number.isInteger(e)?Math.floor(Math.random()*(e-t+1)+t):Math.random()*(e-t)+t}function o(t){return t?{height:t.offsetHeight,width:t.offsetWidth}:{height:0,width:0}}let f=2*Math.PI,h={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1],opacity:[1,1],enable3DRotation:!1};class c{static createSnowflakes(t,e,a){if(!t)return[];let i=[];for(let n=0;n<e;n++)i.push(new c(t,a));return i}constructor(t,e={}){this.updateConfig(e);let{radius:a,wind:i,speed:n,rotationSpeed:r,opacity:o,enable3DRotation:f}=this.config;this.params={x:s(0,t.offsetWidth),y:s(-t.offsetHeight,0),rotation:s(0,360),radius:s(...a),speed:s(...n),wind:s(...i),rotationSpeed:s(...r),nextSpeed:s(...n),nextWind:s(...i),nextRotationSpeed:s(...r),opacity:s(...o),hasNextOpacity:!1,rotationX:f?s(0,360):0,rotationY:f?s(0,360):0,rotationSpeedX:f?s(-2,2):0,rotationSpeedY:f?s(-2,2):0,nextRotationSpeedX:f?s(-2,2):0,nextRotationSpeedY:f?s(-2,2):0},this.framesSinceLastUpdate=0}selectImage(){this.config.images&&this.config.images.length>0?this.image=function(t){let e=Math.floor(Math.random()*t.length);return t[e]}(this.config.images):this.image=void 0}updateConfig(t){let e=this.config;this.config={...h,...t},this.config.changeFrequency=s(this.config.changeFrequency,1.5*this.config.changeFrequency),this.params&&!r(this.config.radius,null==e?void 0:e.radius)&&(this.params.radius=s(...this.config.radius)),r(this.config.images,null==e?void 0:e.images)||this.selectImage(),(null==e?void 0:e.opacity)&&!r(this.config.opacity,null==e?void 0:e.opacity)&&(this.params.hasNextOpacity=!0)}updateTargetParams(){this.params.nextSpeed=s(...this.config.speed),this.params.nextWind=s(...this.config.wind),this.image&&(this.params.nextRotationSpeed=s(...this.config.rotationSpeed)),this.config.enable3DRotation&&(this.params.nextRotationSpeedX=s(-2,2),this.params.nextRotationSpeedY=s(-2,2))}update(t,e,a=1){var i,n;let{x:r,y:o,rotation:f,rotationSpeed:h,nextRotationSpeed:c,wind:l,speed:u,nextWind:p,nextSpeed:d,radius:m}=this.params;this.params.x=(r+l*a)%(t+2*m),this.params.x>t+m&&(this.params.x=-m),this.params.y=(o+u*a)%(e+2*m),this.params.y>e+m&&(this.params.hasNextOpacity&&(this.params.opacity=s(...this.config.opacity),this.params.hasNextOpacity=!1),this.params.y=-m),(this.image||this.config.enable3DRotation)&&(this.params.rotation=(f+h)%360),this.config.enable3DRotation&&(this.params.rotationX=(this.params.rotationX+this.params.rotationSpeedX*a)%360,this.params.rotationY=(this.params.rotationY+this.params.rotationSpeedY*a)%360),this.params.speed=.99*u+.01*d,this.params.wind=.99*l+.01*p,this.params.rotationSpeed=.99*h+.01*c,this.config.enable3DRotation&&(this.params.rotationSpeedX=(i=this.params.rotationSpeedX,.99*i+.01*this.params.nextRotationSpeedX),this.params.rotationSpeedY=(n=this.params.rotationSpeedY,.99*n+.01*this.params.nextRotationSpeedY)),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}getImageOffscreenCanvas(t,e){var a,i;if(t instanceof HTMLImageElement&&t.loading)return t;let n=c.offscreenCanvases.get(t);if(n||(n={},c.offscreenCanvases.set(t,n)),!(e in n)){let i=document.createElement("canvas");i.width=e,i.height=e,null===(a=i.getContext("2d"))||void 0===a||a.drawImage(t,0,0,e,e),n[e]=i}return null!==(i=n[e])&&void 0!==i?i:t}apply3DTransform(t,e,a){if(this.config.enable3DRotation){let{rotationX:i,rotationY:n}=this.params,r=this.params.rotation||0,s=i*Math.PI/180,o=n*Math.PI/180,f=r*Math.PI/180,h=Math.cos(s),c=Math.sin(s),l=Math.cos(o),u=Math.sin(o),p=Math.cos(f),d=Math.sin(f);t.setTransform(p*l,p*u*c-d*h,p*u*h+d*c,d*l,e,a)}else{let i=(this.params.rotation||0)*Math.PI/180,n=Math.cos(i),r=Math.sin(i);t.setTransform(n,r,-r,n,e,a)}}drawCircle(t){t.moveTo(this.params.x,this.params.y),t.arc(this.params.x,this.params.y,this.params.radius,0,f)}drawCircle3D(t,e){let{x:a,y:i,radius:n}=this.params;t.save(),this.config.enable3DRotation?this.apply3DTransform(t,a,i):t.translate(a,i),t.beginPath(),t.arc(0,0,n,0,f),t.fillStyle=e,t.fill(),t.restore()}drawImage(t){let{x:e,y:a,radius:i}=this.params;t.save(),1!==this.params.opacity&&(t.globalAlpha=this.params.opacity),this.apply3DTransform(t,e,a);let n=this.getImageOffscreenCanvas(this.image,i);t.drawImage(n,-(i/2),-(i/2),i,i),t.restore()}}c.offscreenCanvases=new WeakMap;let l={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"},u=1e3/60;var p=function(t,e,a,i){if("a"===a&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?i:"a"===a?i.call(t):i?i.value:e.get(t)},d=function(t,e,a,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,a):n?n.value=a:e.set(t,a),a};class m{get ctx(){return p(this,i,"f")}get canvas(){return p(this,n,"f")}set canvas(t){d(this,n,t,"f"),d(this,i,t.getContext("2d"),"f")}constructor(t,e){this.lastUpdate=Date.now(),this.snowflakes=[],i.set(this,void 0),n.set(this,void 0),d(this,n,t,"f"),d(this,i,t.getContext("2d"),"f"),this.config={snowflakeCount:150,...h,...e},this.snowflakes=[],this.snowflakes=c.createSnowflakes(t,e.snowflakeCount||150,e),this.play()}updateConfig(t){this.config={...this.config,...t};let e=this.config.snowflakeCount-this.snowflakes.length;for(let a of(e>0&&(this.snowflakes=[...this.snowflakes,...c.createSnowflakes(this.canvas,e,t)]),e<0&&(this.snowflakes=this.snowflakes.slice(0,this.config.snowflakeCount)),this.snowflakes))a.updateConfig(this.config)}render(t=1){let{ctx:e,canvas:a,snowflakes:i}=this;if(!e||!a)return;let{offsetWidth:n,offsetHeight:r}=a;for(let e of i)e.update(n,r,t);if(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n,r),this.config.images&&this.config.images.length>0){for(let t of i)t.drawImage(e);return}if(this.config.enable3DRotation)for(let t of i)t.drawCircle3D(e,this.config.color);else{for(let t of(e.beginPath(),i))t.drawCircle(e);e.fillStyle=this.config.color,e.fill()}}loop(){let t=Date.now(),e=Date.now()-this.lastUpdate;this.lastUpdate=t,this.render(e/u),this.animationFrame=requestAnimationFrame(()=>this.loop())}play(){this.loop()}pause(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}}i=new WeakMap,n=new WeakMap;var g=a(2115);let w=t=>{let[e,a]=(0,g.useState)(o(t.current)),i=(0,g.useCallback)(()=>{t.current&&a(o(t.current))},[t]);return(0,g.useEffect)(()=>{let{ResizeObserver:e}=window;if(t.current){if(i(),"function"!=typeof e)return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i);{let a=new e(i);return a.observe(t.current),()=>a.disconnect()}}},[t,i]),e},y=t=>(0,g.useMemo)(()=>({...l,...t||{}}),[t]),v=({color:t=h.color,changeFrequency:e=h.changeFrequency,radius:a=h.radius,speed:i=h.speed,wind:n=h.wind,rotationSpeed:s=h.rotationSpeed,opacity:o=h.opacity,snowflakeCount:f=150,images:c,enable3DRotation:l=h.enable3DRotation,style:u}={})=>{let p=y(u),d=(0,g.useRef)(null),v=w(d),S=function(t){let[e,a]=(0,g.useState)(t);return!function(t,e){let a=(0,g.useRef)(e);r(e,a.current)||(a.current=e),(0,g.useEffect)(t,a.current)}(()=>a(t),[t]),e}({color:t,changeFrequency:e,radius:a,speed:i,wind:n,rotationSpeed:s,images:c,snowflakeCount:f,opacity:o,enable3DRotation:l}),b=(0,g.useRef)(S),x=(0,g.useRef)();return(0,g.useEffect)(()=>(!x.current&&d.current&&(x.current=new m(d.current,b.current)),()=>{var t;null===(t=x.current)||void 0===t||t.pause(),x.current=void 0}),[]),(0,g.useEffect)(()=>{x.current&&x.current.updateConfig(S)},[S]),g.createElement("canvas",{ref:d,height:v.height,width:v.width,style:p,"data-testid":"SnowfallCanvas"})},S=v},5522:t=>{var e="undefined"!=typeof Element,a="function"==typeof Map,i="function"==typeof Set,n="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;t.exports=function(t,r){try{return function t(r,s){if(r===s)return!0;if(r&&s&&"object"==typeof r&&"object"==typeof s){var o,f,h,c;if(r.constructor!==s.constructor)return!1;if(Array.isArray(r)){if((o=r.length)!=s.length)return!1;for(f=o;0!=f--;)if(!t(r[f],s[f]))return!1;return!0}if(a&&r instanceof Map&&s instanceof Map){if(r.size!==s.size)return!1;for(c=r.entries();!(f=c.next()).done;)if(!s.has(f.value[0]))return!1;for(c=r.entries();!(f=c.next()).done;)if(!t(f.value[1],s.get(f.value[0])))return!1;return!0}if(i&&r instanceof Set&&s instanceof Set){if(r.size!==s.size)return!1;for(c=r.entries();!(f=c.next()).done;)if(!s.has(f.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(s)){if((o=r.length)!=s.length)return!1;for(f=o;0!=f--;)if(r[f]!==s[f])return!1;return!0}if(r.constructor===RegExp)return r.source===s.source&&r.flags===s.flags;if(r.valueOf!==Object.prototype.valueOf&&"function"==typeof r.valueOf&&"function"==typeof s.valueOf)return r.valueOf()===s.valueOf();if(r.toString!==Object.prototype.toString&&"function"==typeof r.toString&&"function"==typeof s.toString)return r.toString()===s.toString();if((o=(h=Object.keys(r)).length)!==Object.keys(s).length)return!1;for(f=o;0!=f--;)if(!Object.prototype.hasOwnProperty.call(s,h[f]))return!1;if(e&&r instanceof Element)return!1;for(f=o;0!=f--;)if(("_owner"!==h[f]&&"__v"!==h[f]&&"__o"!==h[f]||!r.$$typeof)&&!t(r[h[f]],s[h[f]]))return!1;return!0}return r!=r&&s!=s}(t,r)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}}}]);